<!DOCTYPE html>
<html>
<head>
  <title>Rock, Paper, Scissor Game</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <h1>Rock, Paper, Scissors</h1>
  <p>Play 5 rounds using your console to see what is happening.</p>
  <button onclick="game()">Start Game</button>
  <script>
//Create a random variable for the computer
function computerPlay() {
  let randomNumber = Math.floor(Math.random() * 100);
    if (randomNumber < 33) {
    return "rock";
  } else if (randomNumber < 66) {
    return "paper";
  } else if (randomNumber < 100) {
    return "scissor";
  } else {
    return "error";
  }
};
//Comparing the two arguments to see who won the round
function playRound(computerSelection, playerSelection) {
  if (computerSelection === playerSelection) {
  return `You both chose ${playerSelection}, it is a tie`;
  } else if (computerSelection === "rock" && playerSelection === "scissor") {
  return `You lost! Rock breaks scissor!`; 
  } else if (computerSelection === "paper" && playerSelection === "rock") {
  return `You lost! Paper covers rock!`;
  } else if (computerSelection === "scissor" && playerSelection === "paper") {
  return `You lost! Scissor cuts paper!`;  
  } else if (computerSelection === "rock" && playerSelection === "paper") {
  return `You won! Paper covers rock!`;
  } else if (computerSelection === "paper" && playerSelection === "scissor") {
  return `You won! Scissor cuts paper!`;
  } else if (computerSelection === "scissor" && playerSelection === "rock") {
  return `You won! Rock breaks scissor!`; 
  } else {
  return "You didn't choose a correct option";
  }
};
//Decide the outcome of each game and return as variable n
function gameWinCounter(n) {
  let winRegex = /win/;
  let lostRegex = /lost/;
  if (winRegex.test(playRound(computerSelection, playerSelection))) {
    return n++;
  } else if (lostRegex.test(playRound(computerSelection, playerSelection))) {
    return n--;
  }  
};
//Loop for the game for 5 rounds
function game(i) {
  for (let i = 0; i < 5; i++) {
    if (i < 5) {
      let winner = gameWinCounter();
      let computerSelection = computerPlay();
      let playerSelection = window.prompt("Choose Rock, Paper, or Scissor", "Rock").toLowerCase();
      playRound(computerSelection, playerSelection);
      console.log(playRound(computerSelection, playerSelection));
    } else {

      if (winner > 0) {
        return "Game Over. You won!";
        } else {
        return "Game Over. You lost!";
      } 
      console.log(outcome(n));
    }
  }


};

//I still need an if statement to prevent the listener from erroring out. 

</script>
</body>
</html>